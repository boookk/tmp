---
layout: post
title: "[BOJ] ìœ„ìƒ ì •ë ¬ ğŸ¥‡3"
date: 2022-03-17 00:00:00 +0300
tags: [Algorithm, BOJ]
---

# ğŸ“š <mark style='background-color: #ffd33d'> Topological Sort </mark>

ì¶œì²˜ : <https://www.acmicpc.net/problem/9470>

<br>

## ğŸ’¡ í’€ì´
```python
import sys
from collections import deque

input = sys.stdin.readline

T = int(input())
for _ in range(T):
    k, m, p = map(int, input().split())

    graph = [[] for _ in range(m + 1)]
    inDegree = [0] * (m + 1)
    dp = [[0] * (m + 1) for _ in range(m + 1)]
    end = 0

    for _ in range(p):
        a, b = map(int, input().split())
        graph[a].append(b)
        inDegree[b] += 1

    queue = deque()
    for i in range(1, m + 1):
        if inDegree[i] == 0:
            queue.append(i)
            dp[i][i] = 1

    while queue:
        x = queue.popleft()
        end = x

        for i in graph[x]:
            inDegree[i] -= 1

            dp[x][i] = dp[x][x]

            if inDegree[i] == 0:
                queue.append(i)
                max_ = 0
                count = 0
                for row in range(1, m + 1):
                    if max_ != 0 and dp[row][i] == max_:
                        count += 1
                    elif dp[row][i] > max_:
                        max_ = dp[row][i]
                        count = 1

                dp[i][i] = max_ if count == 1 else max_ + 1

    print(k, dp[end][end])
print(*result)
```

<br>

## ğŸ“ í•´ì„¤

#### 1. ì•„ë˜ì™€ ê°™ì€ 2ì°¨ì› ë¦¬ìŠ¤íŠ¸(ì´í•˜ dp)ê°€ ìˆë‹¤ê³  ê°€ì •í•œë‹¤.

![image](https://user-images.githubusercontent.com/76933244/159220634-ad811136-365a-46c8-bacc-66f0e2228e6e.png)



#### 2. ì§„ì… ì°¨ìˆ˜ê°€ 0ì¸ ë…¸ë“œì˜ ë²ˆí˜¸ë¥¼ ië¼ê³  ê°€ì •í•˜ë©´, dp[i][i]ì— 1ë¡œ ì„¤ì •í•œë‹¤.

![image](https://user-images.githubusercontent.com/76933244/159221083-4d5c9ef2-753c-4d38-a2cb-58d1d8888252.png)


#### 3. ë…¸ë“œ aì—ì„œ ë…¸ë“œ bë¡œ ê°€ëŠ” ê²½ë¡œê°€ ìˆë‹¤ë©´, ì§„ì… ì°¨ìˆ˜ë¥¼ ê°ì†Œì‹œí‚¤ê³  dp[a][b]ì˜ ê°’ì„ dp[a][a] ê°’ìœ¼ë¡œ ë³€í™˜í•œë‹¤.

![image](https://user-images.githubusercontent.com/76933244/159222000-ebb41469-4c11-47fb-bae7-e491b6cd5527.png)


#### 4. ì§„ì… ì°¨ìˆ˜ê°€ 0ì´ ì•„ë‹ˆì—ˆë˜ ë…¸ë“œì˜ ì§„ì… ì°¨ìˆ˜ê°€ 0ì´ ë˜ì—ˆë‹¤ë©´, queueì— ë…¸ë“œ ë²ˆí˜¸ë¥¼ ë„£ê³ , ì•„ë˜ì˜ ì¡°ê±´ì— ë”°ë¼ dp í…Œì´ë¸”ì˜ ê°’ì„ ê°±ì‹ í•œë‹¤.
- ë…¸ë“œ ë²ˆí˜¸ vì—ì„œ í•´ë‹¹ ë…¸ë“œë¡œ ë“¤ì–´ì˜¤ëŠ” ê°•ì˜ ìˆœì„œ ì¤‘ ê°€ì¥ í° ê°’ì„ ië¼ê³  í•˜ì˜€ì„ ë•Œ
- í•´ë‹¹ ë…¸ë“œë¡œ ë“¤ì–´ì˜¤ëŠ” ëª¨ë“  ê°• ì¤‘ì—ì„œ ê°•ì˜ ìˆœì„œê°€ iì¸ ê°•ì´ 1ê°œì´ë©´, dp[v][v]ì˜ ê°’ì„ ië¡œ ì„¤ì •í•œë‹¤.
- iì¸ ê°•ì´ 2ê°œ ì´ìƒì´ë©´ dp[v][v]ì˜ ê°’ì„ i + 1ë¡œ ì„¤ì •í•œë‹¤.

![image](https://user-images.githubusercontent.com/76933244/159224074-ce7eb3c0-6556-4a86-9f3d-f2fbfe4829e3.png)

#### 5. ê³¼ì • 3 ~ 4ë¥¼ ë°˜ë³µí•˜ë©´ ì•„ë˜ì™€ ê°™ì€ dp í…Œì´ë¸”ì´ ë§Œë“¤ì–´ì§„ë‹¤.

![image](https://user-images.githubusercontent.com/76933244/159224623-867cf686-41f6-4483-a227-529bc525ca68.png)

#### 6. ë§ˆì§€ë§‰ ë…¸ë“œë¥¼ vë¼ê³  í•œë‹¤ë©´, í•˜ì²œê³„ì˜ Strahler ìˆœì„œëŠ” dp[v][v]ê°€ ëœë‹¤.

![image](https://user-images.githubusercontent.com/76933244/159224845-ac8deff2-2697-407a-9e72-63437f4fe6ea.png)

<br>
